# 对 Heimalou 中的文件的说明

#### 内心OS

其实我不了解《黑神话·悟空》，也第一次基础到OOP跟POP的概念，这个周末很尽力去理解这些概念了，尽量是把我在这两天学到的、理解到的写进来，然后把还能跑得动的代码提交上来了。

## 背景介绍

我以《黑神话·悟空》的角色设定的冰山一角作为背景，抽象出了`Animal`这一基类，`Monkey`与`Tiger`继承自`Animal`类中，`Tianmingren`作为`Monkey`类中特殊的一只，继承了`Monkey`的特性，同时也有自己的特性。

## 具体分析

#### **一、类的结构分析**

1. `Animal`类：

   - `Animal.h`是`Animal`类的头文件。

   - 抽象基类，定义了纯虚函数`move()`和`speak()`，所有的动物都会移动，同时发出声音，这段头文件为后续的具体动物类提供了统一的接口规范。

   - 通过虚析构函数确保派生类的析构函数也被调用。

     ```cpp
     virtual ~Animal() {}
     ```

     （暂时还没理解这句话，这行代码我是照抄B站大学上的示例的，~~悲，然后试一下删除线~~）

2. `Monkey`类：

   - 继承自`Animal`类
   - 头文件是`Monkey.h`，实现文件是`Monkey.cpp`
   - `Name`、`HP`和`MP`被`protected`关键字保护，我不知道我这样用得对不对，但是体现了一定程度的封装，血条法条提前规定好，这些属性只能在派生类和友元中直接访问，外部代码不能直接访问。
   - 实现了从`Animal`类继承的纯虚函数`move()`和`speak()`，满足了多态的要求。
   - 拥有自己的成员函数`displayStats()`，用于显示状态信息。

3. `Tiger`类：
   - 同样继承自`Animal`类。
   - 头文件是`Tiger.h`，实现文件是`Tiger.cpp`。
   - 结构与`Monkey`类 类似，不多赘述。

4. `Tianmingren`类：

   - 继承自`Monkey`类，天命人是一种特殊的猴子。
   - 头文件是`Tianmingren.h`，实现文件是`Tianmingren.cpp`。
   - `MagicSkills`和`StickSkills`被`private`关键字控制为私有成员，进一步体现了封装特性，外部代码无法直接访问这些技能列表，这些个***<u>变化</u>***跟***<u>棍法</u>***是天命人独有的，嗯。
   - 使用

     ```cpp
         string speak() const override;
         string move() const override;
     ```

     重写了从`Monkey`类继承的`speak()`函数，展示了天命人独特的行为。

------

#### **二、封装特性体现**

1. 在`Monkey`、`Tiger`和`SunWukong`类中，将数据成员（如`Name`、`HP`、`MP`以及孙悟空的特殊技能列表）设置为受保护或私有访问级别，外部代码不能直接访问和修改这些数据，只能通过类提供的公共接口（成员函数）来操作。

   - 这样规定好的HP值与MP值就变不了了。

2. 各个类将其特定的行为和属性封装在内部，使得外部代码不需要了解其内部实现细节，只需要通过公共接口来使用这些类。

   - 外部代码只需调用`move()`函数就可以得到猴子/天命人的移动描述，

     只需调用`speak()`函数就可以得到猴子/天命人的发出声音描述。

------

#### **三、继承特性体现**

1. `Monkey`和`Tiger`类继承自`Animal`类，继承了其接口（纯虚函数）和部分实现（虚析构函数）。
   - 这使得代码具有更好的可扩展性和可维护性，因为可以在不修改现有代码的基础上，通过添加新的派生类来扩展程序的功能。
   - 例如，如果要添加新的动物类型，只需要从`Animal`类继承并实现相应的函数即可。
2. `Tianmingren`类继承自`Monkey`类，不仅继承了猴子的一般特性，新增了`transform()`和`attack()`函数，还可以在此基础上添加自己的特殊行为和属性。
   - 这种多层继承体现了代码的复用性，避免了重复编写相同的代码。
   - 天命人继承了猴子的移动和说话行为，同时又有自己独特的说话方式、变化和棍法。

------

#### 四、主程序

其实我没想好自己要设计什么，主程序就把前面各个类所定义过的一些乱七八糟的字符串展示一下，ddl已经非常近了，手上也堆积了很多pre没做，这个实验就先到此为止，有空再改一个2.0版。然后插一张运行的截图进来：![](C:\Users\XiaoHe\Desktop\24级和渝轩\运行结果.png)

------

#### 五、一些废话

我个人理解是合理运用规划好`public`，`protected`，`private`这三个关键字是封装跟继承的关键所在，摘抄了一下我搜到的笔记，目前不太能够理解运用，还在尝试加深理解。

> /*
> public：可以被该类中的函数、子类的函数、友元函数访问，也可以由该类的对象访问。
> protected：可以被该类中的函数、子类的函数、友元函数访问，但不可以由该类的对象访问。
> private：可以被该类中的函数、友元函数访问，但不可以由子类的函数、该类的对象访问。
> private关键字的作用在于更好地隐藏类的内部实现。
> */

最后的最后，我觉得二面任务设计得挺好，脑子里奇奇怪怪的知识又增加了。
